==================
ASCII协议说明
==================

--------------
命令及应答
--------------

1.	打开指定ID的设备，使其进入设置模式

        a)	命令格式

                ``OPEN xx	<CR><LF>``	xx代表设备ID， 范围： 00 ~ 99

                备注：某些命令必须在设置模式下有效

        b)	应答

                ``Command Mode Open<CR><LF>``

2.	关闭指定ID设备的设置模式

        a)	命令格式

                ``CLSE xx	<CR><LF>``  xx代表设备ID， 范围： 00 ~ 99

        b)	应答

                ``Command Mode Close<CR><LF>``

3.	获取指定ID设备的当前数据

        a)	命令格式

                ``DRAW xx	<CR><LF>``  xx代表设备ID， 范围： 00 ~ 99

        b)	应答

                ``数据内容<CR><LF>``   参考后续章节《ASCII协议数据内容格式》

4.	设置传感器串行参数   **需要设置模式**

        a)	命令格式

                ``UART bbbb p w s	<CR><LF>``

                #. bbbb代表通信波特率， 范围： 1200，2400，4800，9600，19200，38400，115200
                #. p 代表校验位 范围： N --- 无校验  O --- 奇校验  E --- 偶校验
                #. w 代表数据长度 范围：7，8
                #. s 代表停止位  范围：1，2

        b)	应答
        
                ``UART OK<CR><LF>``

5.	设置传感器ID  **需要设置模式**

        a)	命令格式

                ``ID xx	<CR><LF>``

                xx代表 新的设备地址  范围： 0 ~ 99

        b)	应答

                ``ID OK<CR><LF>``

6.	设置传感器工作模式	**需要设置模式**

        a)	命令格式

                ``MODE mm	<CR><LF>``

                #. mm代表设备工作模式  范围： 0 ~ 2
                #. 工作模式0：继电器吸合时，上报数据
                #. 工作模式1：自动上报 上报间隔依赖于 《INTVL》设置值
                #. 工作模式2：不自动上报，需要使用 《DRAW》命令读取

        b)	应答

                ``MODE OK<CR><LF>``

7.	清空传感器缓存数据	**需要设置模式**

        a)	命令格式

                ``CLEAR	<CR><LF>``

                清空所有上电以来，或上次清空以来，用于计算的所有缓存数据

        b)	应答

                ``CLEAR OK<CR><LF>``

8.	设置自动上报时间间隔	**需要设置模式**

        a)	命令格式

                ``INTVL mm	<CR><LF>``

                设置工作模式1状态下的自动上报时间间隔。单位分钟。 范围：1~65536
        b)	应答

                ``INTVL OK<CR><LF>``

9.	读取所有设置信息	**需要设置模式**

        a)	命令格式

                ``PAR	<CR><LF>``

                显示ID，MODE，UART等信息

        b)	应答

                ``PAR OK<CR><LF>``


----------------------
数据内容格式
----------------------
====== =================== ================== ================ ================== =======
---    24小时降雨量单位mm  12小时降雨量单位mm 小时降雨量单位mm 10分钟内降水主特征 计数值
====== =================== ================== ================ ================== =======
printf 03.1f               03.1f              03.1f            d                  04d
示例   101.2               028.0              003.4            2                  101
====== =================== ================== ================ ================== =======

^^^^^^^^^^^^^^^
降水主特征
^^^^^^^^^^^^^^^
        ====== =========
        特征   代码
        ====== =========
        晴     0
        小雨   1
        大雨   2
        雪     3
        冰雹   4
        ====== =========

.. note::
        如果忘记串行通信参数，可以在拨码为ASCII协议状态下，使用9600 8N1，上电2s内，输入回车。此时传感器将进入fix模式，可以在此模式下修改参数。
